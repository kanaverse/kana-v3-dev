"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[623],{3143:function(n,r,t){function e(n){self.onmessage=n}function i(n,r){self.postMessage(n,r)}t.d(r,{b:function(){return i},j:function(){return e}})},7891:function(n,r,t){t.d(r,{Yl:function(){return i},xi:function(){return a}});var e=t(5831);function i(n){e.gd(n)}function u(n,r,t,e){if(!t&&(n instanceof ArrayBuffer||ArrayBuffer.isView(n)))throw new Error("parameters cannot contain ArrayBuffers or their views");if(!e&&(r instanceof ArrayBuffer||ArrayBuffer.isView(r)))throw new Error("parameters cannot contain ArrayBuffers or their views")}function a(n,r){if(typeof n!=typeof r)return u(n,r,!1,!1),!0;if("object"!=typeof n)return n!=r;var t=null===n,e=null===r;if(t!==e)return u(n,r,t,e),!0;if(t)return!1;var i=n instanceof Array,f=r instanceof Array;if(i!=f)return u(n,r,i,f),!0;if(i){if(n.length!=r.length)return!0;for(var s=0;s<n.length;s++)if(a(n[s],r[s]))return!0;return!1}u(n,r,!1,!1);var o=Object.keys(n),c=Object.keys(r);if(o.length!=c.length)return!0;o.sort(),c.sort();for(s=0;s<o.length;s++)if(o[s]!=c[s])return!0;for(var l=0,h=o;l<h.length;l++){var y=h[l];if(a(n[y],r[y]))return!0}return!1}},498:function(n,r,t){t.d(r,{Z:function(){return i},q:function(){return u}});var e=t(5831);function i(n){return n?75:1e6}function u(n){var r=null,t=null,i=null,u=null;try{var a=n.num_obs,f=n.size;(t=e.Wf(a)).set(n.runs),(i=e.Wf(f)).set(n.indices),(u=e.RJ(f)).set(n.distances),r=e.qv.unserialize(t,i,u)}finally{null!==t&&t.free(),null!==i&&i.free(),null!==u&&u.free()}return r}},4021:function(n,r,t){t(6635)},2306:function(n,r,t){t(6635),t(7108)},5941:function(n,r,t){t(8782)},3102:function(n,r,t){t(489)},5644:function(n,r,t){t(6635),t(6737),t(4292)},5470:function(n,r,t){t(6635),t(2306),t(7108)},6199:function(n,r,t){t(6635),t(4812)},2494:function(n,r,t){t(6635),t(7108),t(5159)},9273:function(n,r,t){t(6635),t(7108),t(7067)},4292:function(n,r,t){t(6737),t(6635)},489:function(n,r,t){t(5941)},8420:function(n,r,t){t(7108),t(6635)},7067:function(n,r,t){t.d(r,{ZF:function(){return h},qv:function(){return Z},wf:function(){return d}});var e=t(5671),i=t(3144),u=t(2346),a=t(8916),f=t(2793),s=t(6635),o=t(7108),c=(t(5159),new WeakMap),l=new WeakMap,h=function(){function n(r,t){(0,e.Z)(this,n),(0,u.Z)(this,c,{writable:!0,value:void 0}),(0,u.Z)(this,l,{writable:!0,value:void 0}),(0,f.Z)(this,c,r),(0,f.Z)(this,l,t)}return(0,i.Z)(n,[{key:"numberOfCells",value:function(){return(0,a.Z)(this,l).num_obs()}},{key:"numberOfDims",value:function(){return(0,a.Z)(this,l).num_dim()}},{key:"free",value:function(){null!==(0,a.Z)(this,l)&&(o.A((0,a.Z)(this,c)),(0,f.Z)(this,l,null))}},{key:"index",get:function(){return(0,a.Z)(this,l)}}]),n}();var y=new WeakMap,v=new WeakMap,Z=function(){function n(r,t){(0,e.Z)(this,n),(0,u.Z)(this,y,{writable:!0,value:void 0}),(0,u.Z)(this,v,{writable:!0,value:void 0}),(0,f.Z)(this,y,r),(0,f.Z)(this,v,t)}return(0,i.Z)(n,[{key:"size",value:function(){return(0,a.Z)(this,v).size()}},{key:"numberOfCells",value:function(){return(0,a.Z)(this,v).num_obs()}},{key:"results",get:function(){return(0,a.Z)(this,v)}},{key:"serialize",value:function(){var n,r,t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=i.runs,f=void 0===u?null:u,o=i.indices,c=void 0===o?null:o,l=i.distances,h=void 0===l?null:l,y=(null===f)+(null===c)+(null===h);if(3!=y&&0!=y)throw new Error("either all or none of 'runs', 'indices' and 'distances' can be 'null'");if(3===y)try{r=s.Wf(this.numberOfCells());var Z=this.size();t=s.Wf(Z),e=s.RJ(Z),(0,a.Z)(this,v).serialize(r.offset,t.offset,e.offset),n={runs:r.slice(),indices:t.slice(),distances:e.slice()}}finally{s.gd(r),s.gd(t),s.gd(e)}else(0,a.Z)(this,v).serialize(f.offset,c.offset,h.offset),n={runs:f.array(),indices:c.array(),distances:h.array()};return n}},{key:"free",value:function(){null!==(0,a.Z)(this,v)&&(o.A((0,a.Z)(this,y)),(0,f.Z)(this,v,null))}}],[{key:"unserialize",value:function(r,t,e){var i,u,a,f;try{u=s.de(r,"Int32WasmArray"),a=s.de(t,"Int32WasmArray"),f=s.de(e,"Float64WasmArray"),i=o.R((function(n){return new n.NeighborResults(r.length,u.offset,a.offset,f.offset)}),n)}catch(c){throw s.gd(i),c}finally{s.gd(u),s.gd(a),s.gd(f)}return i}}]),n}();function d(n,r){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).numberOfThreads,e=void 0===t?null:t,i=s.mV(e);return o.R((function(t){return t.find_nearest_neighbors(n.index,r,i)}),Z)}},9283:function(n,r,t){t(8782),t(6635),t(2306),t(6737)},6126:function(n,r,t){t(6635),t(8782),t(6774)},5538:function(n,r,t){t(6635),t(8782)},8311:function(n,r,t){t(7108),t(8782),t(6635),t(2306)},6807:function(n,r,t){t(6635),t(8782)},6078:function(n,r,t){t(8782),t(6635),t(6737)},6774:function(n,r,t){t(6635)},3779:function(n,r,t){t(7108),t(8782),t(6635),t(2306),t(6737),t(8311)},1184:function(n,r,t){t(7108),t(6635),t(6737),t(8782)},5696:function(n,r,t){t(6635),t(5159),t(8782)},4812:function(n,r,t){t(7108),t(6635)},9206:function(n,r,t){t(7108),t(6635),t(6078)},2945:function(n,r,t){t(7108),t(6635)},5448:function(n,r,t){t(7108),t(6635),t(6078)},6974:function(n,r,t){t(2494),t(1184),t(9283),t(5159),t(6635)},6663:function(n,r,t){t(6635),t(8782),t(7108),t(6774)},4755:function(n,r,t){t(489),t(3102)},5159:function(n,r,t){t(7108),t(6635)},2732:function(n,r,t){t(8782),t(6635),t(7067)},7039:function(n,r,t){t(7108),t(8782),t(6635),t(6737)},9249:function(n,r,t){t(7108),t(8782),t(6635)},1196:function(n,r,t){t(6635),t(8782),t(4021)},6757:function(n,r,t){t(7108),t(6635),t(6807),t(9206)},4609:function(n,r,t){t(7108),t(6635),t(6807),t(2945)},7339:function(n,r,t){t(7108),t(6635),t(6807),t(5448)},6635:function(n,r,t){t.d(r,{RJ:function(){return a},Wf:function(){return u},ab:function(){return c},de:function(){return f},gd:function(){return o},mV:function(){return s}});var e=t(8782),i=t(6737);function u(n){return i.Wf((0,e.Fx)(),n)}function a(n){return i.RJ((0,e.Fx)(),n)}function f(n,r){if(n instanceof i.PQ){if(null!==r&&r!=n.constructor.className)throw new Error("expected '"+r+"', got '"+n.constructor.className+"'");return n.space===(0,e.Fx)()?null===n.owner?n.view():n:n.clone((0,e.Fx)())}return null!==r?i.Zv((0,e.Fx)(),n,i.rr(r)):i.Zv((0,e.Fx)(),n)}function s(n){return null==n?(0,e.TT)():n}function o(n){if("undefined"!=typeof n&&null!=n)return n.free()}function c(n,r){for(var t=new Float64Array(n),e=new Float64Array(n),i=0;i<n;i++)t[i]=r[2*i],e[i]=r[2*i+1];return{x:t,y:e}}},8782:function(n,r,t){t.d(r,{Fx:function(){return h},RA:function(){return y},RE:function(){return l},TT:function(){return c},j2:function(){return s}});var e=t(4165),i=t(5861),u=t(8308),a=t(6737),f=(t(5941),{});function s(){return o.apply(this,arguments)}function o(){return o=(0,i.Z)((0,e.Z)().mark((function n(){var r,t,i,s,o,c,l=arguments;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(r=l.length>0&&void 0!==l[0]?l[0]:{}).numberOfThreads,i=void 0===t?4:t,s=r.localFile,o=void 0!==s&&s,!("module"in f)){n.next=3;break}return n.abrupt("return",!1);case 3:return c={scran_custom_nthreads:i},o&&(c.locateFile=function(n){return"file:///Users/kancherj/Projects/public/kana/scran.js.react/node_modules/scran.js/browser/wasm.js".substring(7)+"/../wasm/"+n}),n.next=7,(0,u.default)(c);case 7:return f.module=n.sent,f.space=(0,a.z2)(f.module),n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)}))),o.apply(this,arguments)}function c(){return f.module.scran_custom_nthreads}function l(n){if(!("module"in f))throw new Error("Wasm module needs to be initialized via 'initialize()'");var r;try{r=n(f.module)}catch(t){throw"number"==typeof t?new Error(f.module.get_error_message(t)):t}return r}function h(){return f.space}function y(){f.module.PThread.terminateAllThreads(),delete f.module}},118:function(n,r,t){t(6126),t(8782)},8383:function(n,r,t){t.d(r,{do:function(){return Z},lt:function(){return w},rr:function(){return g}});var e=t(5671),i=t(3144),u=t(136),a=t(9388),f=t(4942),s=t(2813),o=t(2905),c=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Uint8Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(c,"className","Uint8WasmArray"),(0,f.Z)(c,"valueSize",1);var l=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Int8Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(l,"className","Int8WasmArray"),(0,f.Z)(l,"valueSize",1);var h=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Uint16Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(h,"className","Uint16WasmArray"),(0,f.Z)(h,"valueSize",2);var y=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Int16Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(y,"className","Int16WasmArray"),(0,f.Z)(y,"valueSize",2);var v=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Uint32Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(v,"className","Uint32WasmArray"),(0,f.Z)(v,"valueSize",4);var Z=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Int32Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(Z,"className","Int32WasmArray"),(0,f.Z)(Z,"valueSize",4);var d=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new BigUint64Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(d,"className","BigUint64WasmArray"),(0,f.Z)(d,"valueSize",8);var m=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new BigInt64Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(m,"className","BigInt64WasmArray"),(0,f.Z)(m,"valueSize",8);var p=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Float32Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(p,"className","Float32WasmArray"),(0,f.Z)(p,"valueSize",4);var w=function(n){(0,u.Z)(t,n);var r=(0,a.Z)(t);function t(){return(0,e.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"array",value:function(){return new Float64Array((0,s.f3)(this.space),this.offset,this.length)}}]),t}(o.P);(0,f.Z)(w,"className","Float64WasmArray"),(0,f.Z)(w,"valueSize",8);var A={Uint8WasmArray:c,Int8WasmArray:l,Uint16WasmArray:h,Int16WasmArray:y,Uint32WasmArray:v,Int32WasmArray:Z,BigUint64WasmArray:d,BigInt64WasmArray:m,Float32WasmArray:p,Float64WasmArray:w};function g(n){if(!(n in A))throw new Error("unknown WasmArray class '"+n+"'");return A[n]}},6737:function(n,r,t){t.d(r,{PQ:function(){return e.P},Zv:function(){return o.Zv},RJ:function(){return s},Wf:function(){return f},z2:function(){return u.z2},rr:function(){return i.rr}});var e=t(2905),i=t(8383),u=t(2813);function a(n,r,t){return(0,u.TK)(n,r,t)}function f(n,r){return a(n,r,i.do)}function s(n,r){return a(n,r,i.lt)}var o=t(4163)}}]);
//# sourceMappingURL=623.2b42b9a9.chunk.js.map